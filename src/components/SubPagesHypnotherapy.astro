---
import siteConfig from '../data/site-config';
import ArrowLeft from '../icons/ArrowLeft.astro';

// Props
const { exclude, columns = 2 } = Astro.props; // default to 2 columns

// Get the subLinks array from the siteConfig
const subLinks = siteConfig.headerNavLinks?.[1]?.subLinks;

// Filter the subLinks to exclude the link specified in the props
const filteredSubLinks = subLinks?.filter((subLink) => subLink.href !== exclude);

// Determine the grid columns class based on the 'columns' prop
const gridColumnsClass = columns === 1 ? 'grid-cols-1' : 'grid-cols-2';
---

<hr class="border-gray-400" />
<h2 class="text-balance text-sm">Weitere Anwendungen <br />der Hypnosetherapie</h2>

<nav class="py-4 md:py-6">
    {
        filteredSubLinks && filteredSubLinks.length > 0 && (
            <ul class={`grid ${gridColumnsClass} gap-4 not-prose list`}>
                {filteredSubLinks.map((subLink) => (
                    <li class="flex items-baseline" key={subLink.href}>
                        <div class="bg-red-600 rounded-full mr-2 top-[3px] relative">
                            <ArrowLeft class="w-4 h-4 fill-red-200 rotate-180" />
                        </div>
                        <a class="text-pretty sm:pr-4 hover:text-red-700 transition-colors" href={subLink.href}>
                            {subLink.longText}
                        </a>
                    </li>
                ))}
            </ul>
        )
    }
</nav>
