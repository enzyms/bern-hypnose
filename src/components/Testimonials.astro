---
import siteConfig from '../data/site-config';

import Quote from '../icons/Quote.astro';

// Get the testimonials array from the siteConfig
const testimonials = siteConfig.testimonials;
---

<section class="mt-12 testimonials">
  <div class="prose">
    <h2 class="mb-5">Klient:innenstimmen</h2>
  </div>
  {testimonials && testimonials.length > 0 ? (
    testimonials.map((testimonial) => (
      <article class="sm:text-lg leading-relaxed pb-4 md:pb-6 group">
        <blockquote class="relative pl-6" >
          <Quote class="absolute fill-red-500 h-6 w-6 left-0 top-0 transform -translate-x-2" />
          <p class="inline-block">{testimonial.quote}</p>
        </blockquote>
        <footer class="text-sm py-2 pl-6">
          <span>{testimonial.author}</span>
          {testimonial.url && (
            <span class="opacity-0 group-hover:opacity-100">
              <span class="">|</span>
              <a href={testimonial.url} target="_blank" rel="noopener noreferrer" class="link underline">
                Bewertung auf Google lesen
              </a>
            </>
          )}
        </footer>
      </article>
    ))
  ) : (
    <!-- no testimonials -->
  )}
</section>


